<h1>CategorieÃ«n</h1>
<hr>

<div class="category" *ngFor="let category of categories">
	<h2>{{category.name}}</h2>
	<button mat-raised-button class="mat-primary add-category" disabled >
		<i class="material-icons add-category-icon">add</i> <div class="add-category-content">Nieuw Artikel</div>
	</button>

	<table #table mat-table [dataSource]="category.products" class="mat-elevation-z8">
		<tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
		<tr mat-row *matRowDef="let rowData; columns: columnsToDisplay"></tr>

		<!-- Name -->
		<ng-container matColumnDef="name"	>
			<th mat-header-cell *matHeaderCellDef> Naam </th>
			<td mat-cell *matCellDef="let product"> 
				<mat-form-field>
					<input matInput type="text" [(ngModel)]="product.name" />	
				</mat-form-field>
			</td>
		</ng-container>

		<!-- Amount of product -->
		<ng-container matColumnDef="numberOfThisProductStored">
			<th mat-header-cell *matHeaderCellDef> Hoeveelheid </th>
			<td mat-cell *matCellDef="let product"> 
				<mat-form-field>
					<input matInput type="number"  [(ngModel)]="product.numberOfThisProductStored" min="0">
				</mat-form-field>	
			</td>
			
		</ng-container>

		<!-- Unit info -->
		<ng-container matColumnDef="amountOfUnit">
			<th mat-header-cell *matHeaderCellDef> Eenheid </th>
			<td mat-cell *matCellDef="let product"> 

				<mat-form-field>
					<input matInput type="number"  [(ngModel)]="product.amountOfUnit" min="0">
				</mat-form-field>

				<mat-form-field>
					<mat-select [(value)]="product.unit">
					  <mat-option *ngFor="let unit of units" [(value)]="unit">
						{{unit}}
					  </mat-option>
					</mat-select>
				  </mat-form-field>
				</td>
		</ng-container>

		<!-- Delete button -->
		<ng-container matColumnDef="delete">
			<th mat-header-cell *matHeaderCellDef> Verwijder </th>
			<td mat-cell *matCellDef="let product"> 
				<button mat-icon-button class="mat-warn" (click)="delete(category, product)">
					<i class="material-icons">delete</i>
				</button>
			</td>
		</ng-container>
	</table>
	<br />
</div>


<button mat-fab (click)="save()" class="bottom-right">
	<i class="material-icons">save</i>
</button>
